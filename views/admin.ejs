<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" type="text/css" href="/styles/index.css">
        <link rel="stylesheet" type="text/css" href="/styles/admin.css">
        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400&display=swap" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <title>FAQ</title>
    </head>
    <body>
        <% if(permission){%>
        <a href="/"><img class="goback" src="/imgs/back.png"></a>
        <div class='mainHead'>Админ панель</div>
        <div class="addAdmin">
            <img class="addAdminImg" src="/imgs/plus.png" alt="добавить админа">
        </div>
        <div class='adminCont'>
            <div class='adminUserBlFilters'>
                <div class='adminUserBlFiltersLogin' style="display: block">Логин</div>
                <div class='adminUserBlFiltersLogin' style="display: block">Пароль</div>
                <div class='adminUserBlFiltersLogin' style="display: block">Действия</div>
            </div>
            <div class='adminUserBlNewFilters'>
                <textarea class='adminUserBlFiltersNewLogin' contenteditable="true" maxlength="16" placeholder="Логин(до 16 символов)"></textarea>
                <textarea class='adminUserBlFiltersNewLogin' contenteditable="true" maxlength="15" type="password" placeholder="Пароль(до 15 символов)"></textarea>
                <div class='adminUserBlFiltersNewLogin'>
                    <input class="createAdminBut" type="button" value="Создать админа">
                    <div class="spinner-border" style="display: none" role="status"></div>
                </div>
            </div>
            <div class="adminContUsers">
                <% for(let i = 0; i < admins.length; i++ ){
                    if(admins[i].login != 'admin'){%>
                        <div class="adminUserBl">
                            <div class="adminUserBlId"><%=admins[i]._id %></div>
                            <div class='adminUserBlLogin'><%=admins[i].login %></div>
                            <div class='adminUserBlLogin'><%=admins[i].password %></div>
                            <div class='adminUserBlFiltersLogin justify-content-center'>
                                <img src="/imgs/delete.png" class="adminUserBlDelete">
                                <img src="/imgs/pencil.png" class="adminUserBlChange">
                                <div class="spinner-border" style="display: none" role="status"></div>
                            </div>
                            <textarea class='adminUserBlFiltersNewLogin' style='display: none' contenteditable="true" maxlength="16" placeholder="Логин(до 16 символов)"><%=admins[i].login %></textarea>
                            <textarea class='adminUserBlFiltersNewLogin' style='display: none' contenteditable="true" maxlength="15" type="password" placeholder="Пароль(до 15 символов)"><%=admins[i].password %></textarea>
                            <div class='adminUserBlFiltersNewLogin' style='display: none'>
                                <input class="saveAdminBut" type="button" value="Сохранить">
                                <input class="dontCreateAdminBut" type="button" value="Не сохранять">
                                <div class="spinner-border" style="display: none" role="status"></div>
                            </div>
                        </div>
                    <%}
                } %> 
            </div>
        </div>
        <%}else{%>
        <div class="noPermission">У вас недостаточно прав.</div>
        <div class='noPermission'><a href="/">Вернуться на главную страницу</a></div>
        <%}%>
    </body>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="/scripts/admin.js"></script>
    <script src="/scripts/curses.js"></script>
    <script src="/scripts/qa.js"></script>
</html>